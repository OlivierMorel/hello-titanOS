<!--
Copyright (c) 2024 LG Electronics Inc.

SPDX-License-Identifier: Apache-2.0
-->

<!DOCTYPE html>
<html>

<head>
	<title>Hello World TitanOS - Philips</title>
  <style type="text/css">
 body {
      width: 100%;
      height: 100%;
			min-height: 100vh; 
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #202020;
      font-family: Arial, sans-serif;
      color: #FFFFFF;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    h1 {
      font-size: 32px;
      margin: 0;
    }

    .info {
      font-size: 20px;
			margin: 0;
      color: orange;
    }
  </style>
</head>

<script 
  src="https://partners.titanos.tv/static/device-info-sdk.js" 
  type="text/javascript">
</script>

<script type="text/javascript">

	// const deviceInfoCallback = (info) => {
	// 	try {
	// 		console.log("Fetched Info from TianOS:", info);
	// 		document.getElementById('manufacturer').innerText = `Manufacturer: ${info.manufacturer}`;
	// 		document.getElementById('modelName').innerText = `Model Name: ${info.modelName}`;
	// 		document.getElementById('versionSW').innerText = `WebOS SW Version: ${info.version}`;
	// 		document.getElementById('versionSDK').innerText = `WebOS SDK Version: ${info.sdkVersion}`;
	// 		document.getElementById('userAgent').innerText = `User Agent: ${navigator.userAgent}`;

	// 	} catch (error) {
	// 		console.error("Error processing WebOSDeviceInfo:", error);
	// 		reject(error);
	// 	}
	// };

	console.log("Hello World : version 1.0.0");

	// Affichage du user Agent

  document.addEventListener('DOMContentLoaded', function () {
  if (typeof DeviceInfo !== 'undefined') {
    const deviceInfo = {
      vendor: DeviceInfo.Channel.vendor,
      brand: DeviceInfo.Channel.brand,
      platform: DeviceInfo.Product.platform,
      year: DeviceInfo.Product.year,
      deviceID: DeviceInfo.Product.deviceID,
      firmwareComponentID: DeviceInfo.Product.firmwareComponentID,
      firmwareVersion: DeviceInfo.Product.firmwareVersion,
      os: DeviceInfo.Capability.os,
    };
    console.log('Informations sur l\'appareil :', deviceInfo);
    document.getElementById('manufacturer').innerText = `Manufacturer: ${deviceInfo.vendor}`;
    document.getElementById('modelName').innerText = `Model Name: ${deviceInfo.modelName}`;
    document.getElementById('firmwareVersion').innerText = `Firmware Version: ${deviceInfo.firmwareVersion}`;
    document.getElementById('os').innerText = `OS: ${deviceInfo.os}`;
    document.getElementById('userAgent').innerText = `User Agent: ${navigator.userAgent}`;

  } else {
    console.error('Le SDK DeviceInfo n\'est pas disponible.');
  }
});

</script>

<body>
  <div class="container">
    <h1>Hello, World!</h1>
    <p id="manufacturer" class="info">Fetching manufacturer...</p>
    <p id="modelName" class="info">Fetching model name...</p>
    <p id="firmwareVersion" class="info">Fetching version...</p>
    <p id="os" class="info">Fetching OS...</p>
    <p id="userAgent" class="info">Fetching user agent...</p>
  </div>
</body>

</html>
